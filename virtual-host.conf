<VirtualHost *:80>
    ServerAdmin postmaster@spirit-dev.net

	DocumentRoot /var/www/web

	<Directory /var/www/web>
		#		Options -Indexes FollowSymLinks SymlinksifOwnerMatch
		Options Indexes FollowSymLinks Multiviews
		#DirectoryIndex app.php
		AllowOverride None
		Allow from All
		Order allow,deny 
        <IfModule mod_rewrite.c>
            RewriteEngine On
            RewriteCond %{REQUEST_FILENAME} !-f
            #RewriteRule ^(.*)$ /app_dev.php [QSA,L]
        </IfModule>
	</Directory>

	<IfModule mod_deflate.c>
		SetOutputFilter DEFLATE
		DeflateCompressionLevel 9
	</IfModule>

	<Location />
		AddOutputFilterByType DEFLATE text/plain
		AddOutputFilterByType DEFLATE text/xml
		AddOutputFilterByType DEFLATE text/html
		AddOutputFilterByType DEFLATE text/css
		AddOutputFilterByType DEFLATE image/svg+xml
		AddOutputFilterByType DEFLATE application/xhtml+xml
		AddOutputFilterByType DEFLATE application/xml
		AddOutputFilterByType DEFLATE application/rss+xml
		AddOutputFilterByType DEFLATE application/atom_xml
		AddOutputFilterByType DEFLATE application/x-javascript

		# Pour les proxies
		Header append Vary User-Agent env=!dont-vary
	</Location>

	<IfModule mod_headers.c>
		# 3 Month
		<FilesMatch ".(flv|gif|jpg|jpeg|png|ico|swf)$">
			Header set Cache-Control "max-age=7257600"
		</FilesMatch>
		# 1 Week
		<FilesMatch ".(js|css|pdf|txt)$">
			Header set Cache-Control "max-age=604800"
		</FilesMatch>
		# NONE
		<FilesMatch ".(pl|php|cgi|spl|htm|html)$">
			Header unset Cache-Control
			Header unset Expires
			Header unset Last-Modified
			FileETag None
			Header unset Pragma
		</FilesMatch>
	</IfModule>

	CustomLog /var/www/access.log combined
	ErrorLog /var/www/error.log

	LogLevel error

	ServerSignature off
</VirtualHost>